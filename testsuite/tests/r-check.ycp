/**
 * Module:
 *   NFS client configuration
 *
 * Summary:
 *   Routines testuite
 *
 * Authors:
 *   Martin Vidner <mvidner@suse.cz>
 *
 * $Id$
 */
{
    // testedfiles: routines.ycp Testsuite.ycp

    include "testsuite.ycp";
    include "nfs/routines.ycp";

    string OK_Name     = "foo.bar.com.tw";
    string TooLongName = "123456789012345678901234567890123456789012345678901234567890";
    string IllegalName = "Something:wrong";

    DUMP ("check_options");
    TEST (``(check_options ("")), [], nil);
    TEST (``(check_options ("defaults")), [], nil);
    TEST (``(check_options ("nolock,bg")), [], nil);
    TEST (``(check_options ("nolock,nobg")), [], nil);
    TEST (``(check_options ("nolock,rsize=8192")), [], nil);
    TEST (``(check_options ("nolock, bg")), [], nil);
    TEST (``(check_options ("nolock,unknownoption")), [], nil);
    TEST (``(check_options ("nolock,unknownassignment=true")), [], nil);
    TEST (``(check_options ("nolock,rsize=")), [], nil);
    TEST (``(check_options ("nolock,two=equal=signs")), [], nil);

    DUMP ("CheckHostName");
    TEST (``(CheckHostName (OK_Name)), [], nil);
    TEST (``(CheckHostName (TooLongName)), [], nil);
    TEST (``(CheckHostName (IllegalName)), [], nil);
    // Too long & illegal char
    TEST (``(CheckHostName (TooLongName + ":")), [], nil);
}
